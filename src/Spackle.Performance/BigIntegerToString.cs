using BenchmarkDotNet.Attributes;
using Spackle.Extensions;
using System.Numerics;

namespace Spackle.Performance;

[MemoryDiagnoser]
#pragma warning disable CA1515 // Consider making public types internal
public class BigIntegerToString
#pragma warning restore CA1515 // Consider making public types internal
{
	[Benchmark(Baseline = true)]
	[ArgumentsSource(nameof(Data))]
	public string CallToString(BigInteger value) => value.ToString(3, 3);

#pragma warning disable CA1822 // Mark members as static
	public IEnumerable<object[]> Data()
#pragma warning restore CA1822 // Mark members as static
   {
		// Length = 10
		yield return new object[] { BigInteger.Parse("1234567890") };
		yield return new object[] { BigInteger.Parse("-1234567890") };
		// Length = 20
		yield return new object[] { BigInteger.Parse("12345678901234567890") };
		yield return new object[] { BigInteger.Parse("-12345678901234567890") };
		// Length = 50
		yield return new object[] { BigInteger.Parse("12345678901234567890123456789012345678901234567890") };
		yield return new object[] { BigInteger.Parse("-12345678901234567890123456789012345678901234567890") };
		// Length = 100
		yield return new object[] { BigInteger.Parse("1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890") };
		yield return new object[] { BigInteger.Parse("-1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890") };
		// Length = 500
		yield return new object[] { BigInteger.Parse("12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890") };
		yield return new object[] { BigInteger.Parse("-12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890") };
	}
}